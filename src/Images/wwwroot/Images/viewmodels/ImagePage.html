<link rel="import" href="/sys/puppet-redirect/puppet-redirect.html" />
<link rel="import" href="/Images/elements/so-juicy-filedrop/so-juicy-filedrop.html" />

<template>
    <template is="dom-bind">
        <so-juicy-filedrop upload-url="/images/images" value="{{model.ImageURL$}}" max-file-size="{{model.MaxFileSize}}" allowed-mime-types="{{model.AllowedMimeTypes}}" open-click="{{model.Open$}}"></so-juicy-filedrop>
        <div class="form-horizontal box-button">
            <input type="text" readonly="readonly" value="{{model.ImageURL$}}" class="form-control" />
        </div>
        <div class="box-button">
            <button type="button" class="btn btn-sm btn-default" onclick="++this.value;" value="{{model.Open$::click}}">Select file</button>
        </div>
        <div class="box-button">
            <button type="button" class="btn btn-primary" onclick="++this.value;" value="{{model.Save$::click}}">Save</button>
        </div>
        <div class="box-button">
            <button type="button" class="btn btn-default" onclick="++this.value;" value="{{model.Cancel$::click}}">Cancel</button>
        </div>
        <link is="puppet-redirect" history url$="{{model.RedirectUrl$}}" />
        <dom-bind-notifier observed-object="{{model}}" path="model" deep></dom-bind-notifier>
    </template>
</template>