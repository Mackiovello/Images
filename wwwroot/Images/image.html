<link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html" />
<link rel="import" href="/sys/juicy-filedrop/juicy-filedrop.html" />

<style>
    juicy-filedrop {
        display: block;
        overflow: hidden;
        color: rgb(170, 170, 170);
        border: 0px solid black;
        border: 0px solid #ccc;
        border-radius: 3px;
    }

    .dropFileHere {
        border-style: dashed;
        border-color: #A5A5A5;
        background: #EDEDED;
        border-width: 6px;
        height: 120px;
        width:120px;
        padding-top: 40px;
        text-align: center;
    }
</style>

<template>
    <juicy-filedrop url="/Images/images" value="{{ImageURL$}}" openclick="{{Open$}}">
        <template if="{{!ImageURL$}}">
            <div class="dropFileHere">
                <span>Drop image here</span>
                <br />
                <a href="javascript:" onclick="getModel(this).Open$++">Or select file</a>
            </div>
        </template>
        <template if="{{ImageURL$}}">
            <img src="{{ImageURL$}}" class="img-thumbnail" />
        </template>
    </juicy-filedrop>
    <div class="form-horizontal">
        <input type="text" readonly="readonly" value="{{ImageURL$}}" class="form-control" />
    </div>
    <div>
        <button type="button" class="btn btn-sm btn-default" onclick="getModel(this).Open$++">Select file</button>
    </div>
    <div>
        <button type="button" class="btn btn-primary" onclick="this.templateInstance.model.Save$++">Save</button>
    </div>
    <div>
        <button type="button" class="btn btn-default" onclick="this.templateInstance.model.Cancel$++">Cancel</button>
    </div>
    <link is="puppet-redirect" history url="{{RedirectUrl$}}" />
</template>

